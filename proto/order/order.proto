syntax = "proto3";

package order;

option go_package = "./pkg/grpc/protoc/order";

// Item di dalam pesanan
message OrderItemRequest {
  int64 product_id = 1; // Menggunakan int64
  int32 quantity = 2;
}

// Request untuk membuat pesanan
message CreateOrderRequest {
  int64 user_id = 1;   // Menggunakan int64
  int64 store_id = 2;  // Menambahkan store_id
  repeated OrderItemRequest items = 3;
}

// Response setelah membuat pesanan
message CreateOrderResponse {
  int64 id = 1; // Menambahkan field ID
  string status = 2;
  double total_amount = 3;
}

// Request untuk mendapatkan detail pesanan
message GetOrderRequest {
  int64 id = 1; // Menggunakan int64
}

// Response detail pesanan
message GetOrderResponse {
  int64 id = 1;
  int64 user_id = 2;
  int64 store_id = 3;
  double total_amount = 4;
  string status = 5;
  // Kita bisa tambahkan detail item di sini jika perlu
}

// Request untuk mendapatkan semua pesanan user
message GetAllOrdersRequest {
    int64 user_id = 1;
}

// Response untuk semua pesanan user
message GetAllOrdersResponse {
    repeated GetOrderResponse orders = 1;
}


service OrderService {
  rpc CreateOrder(CreateOrderRequest) returns (CreateOrderResponse);
  rpc GetOrder(GetOrderRequest) returns (GetOrderResponse);
  rpc GetAllOrders(GetAllOrdersRequest) returns (GetAllOrdersResponse);
}